<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="./favicon.png" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link href="./_app/immutable/assets/Icon.fCVDIlbE.css" rel="stylesheet">
		<link href="./_app/immutable/assets/0.tHIjEIt2.css" rel="stylesheet">
		<link href="./_app/immutable/assets/ProjectReadme.e7ebC1QG.css" rel="stylesheet">
		<link href="./_app/immutable/assets/ProjectHero.EUyf_c_c.css" rel="stylesheet">
		<link href="./_app/immutable/assets/3.giYQxvlo.css" rel="stylesheet">
		<link rel="modulepreload" href="./_app/immutable/entry/start.kf0pkPJx.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/IvsAf_bd.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/la_CRTz7.js">
		<link rel="modulepreload" href="./_app/immutable/entry/app.GKpQQ5Bt.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/0HuHagjb.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/eNs8k2zD.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/0.mVQBVmI-.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Cv9Nws20.js">
		<link rel="modulepreload" href="./_app/immutable/nodes/3.hSB5btSh.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/Z8M-NQeD.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/URUP7E24.js">
		<link rel="modulepreload" href="./_app/immutable/chunks/b4KII8c3.js"><title>AS93 | Alicia Sykes Project Catalog</title><!-- HEAD_svelte-15ie2d1_START --><meta name="author" content="Alicia Sykes"><link rel="canonical" href="https://as93.net"><meta name="description" content="AS93 - Free & Open Source apps by Alicia Sykes"><meta name="keywords" content="open source, code, privacy, security, linux, self-hosted, projects"><meta charset="UTF-8"><meta http-equiv="Content-Language" content="en"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui"><meta name="theme-color" content="#ec4899"><link rel="icon" href="/favicon.png" type="image/png"><link rel="apple-touch-icon" href="/favicon.png"><meta property="og:type" content="website"><meta property="og:title" content="AS93 | Project Catalog"><meta property="og:description" content="Free & Open Source apps by Alicia Sykes"><meta property="og:image" content="https://as93.net/banner.png"><meta property="og:url" content="https://as93.net"><meta property="og:site_name" content="AS93"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:title" content="AS93 | Project Catalog"><meta name="twitter:description" content="Free & Open Source apps by Alicia Sykes"><meta name="twitter:image" content="https://as93.net/banner.png"><script defer data-domain="as93.net" src="https://no-track.as93.net/js/script.js" data-svelte-h="svelte-16hyxdw"></script><meta name="msvalidate.01" content="3B8A195ACDEB67AAA9AB3BBD8C37E3B6"><script type="application/ld+json" data-svelte-h="svelte-x0gm6">{
			"@context": "http://schema.org",
			"@type": "WebSite",
			"name": "AS93",
			"url": "https://as93.net"
		}
		{
		"@context": "http://schema.org",
		"@type": "Website",
		"headline": "AS93 | Alicia Sykes's Project Catalog",
		"image": [
			"https://as93.net/favicon.png",
			"https://as93.net/banner.png",
		],
		"datePublished": "2024-01-11T08:00:00+08:00",
		"dateModified": new Date().toString() || "2024-01-11T09:20:00+08:00",
		"author": {
			"@type": "Person",
			"name": "Alicia Sykes",
			"image": "https://as93.net/profile.jpg"
		},
		"publisher": {
			"@type": "Organization",
			"name": "AS93",
			"logo": { "@type": "ImageObject", "url": "https://as93.net/favicon.png" }
		},
		"description": "Free and open source apps and services, which respect your privacy",
	}</script><!-- HEAD_svelte-15ie2d1_END -->
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">   <div class="app"><section class="svelte-13sw29i"><a class="home svelte-13sw29i" href="/" title="Awesome Source Ninety Three"><svg focusable="false" width="1.8rem" height="1.8rem" class="undefined svelte-biy4zz" style="--iconColor: var(--primary); --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M9.4 86.6C-3.1 74.1-3.1 53.9 9.4 41.4s32.8-12.5 45.3 0l192 192c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L178.7 256 9.4 86.6zM256 416H544c17.7 0 32 14.3 32 32s-14.3 32-32 32H256c-17.7 0-32-14.3-32-32s14.3-32 32-32z"/><!-- HTML_TAG_END --></svg> <h1 class="svelte-13sw29i">AS93</h1></a> <nav class="svelte-13sw29i" data-svelte-h="svelte-2lm850"><a href="https://aliciasykes.com/about" class="svelte-13sw29i">About</a> <a href="https://cv.aliciasykes.com" class="svelte-13sw29i">Resume</a> <a href="https://aliciasykes.com/blog" class="svelte-13sw29i">Blog</a>  <a href="https://aliciasykes.com/contact" class="svelte-13sw29i">Contact</a></nav> </section> <header style="--primary: #d95de8" class="svelte-1po4ls7"><div class="middle svelte-1po4ls7"><div class="left svelte-1po4ls7"><h1 class="svelte-1po4ls7">Ansible Playbooks</h1> <p class="subtitle svelte-1po4ls7">Full, automated, configurable server setup for optimum usability, security and best practices</p> <img width="128" src="https://storage.googleapis.com/as93-screenshots/project-logos/ansibles.png" alt="Project icon"> <div class="main-links svelte-1po4ls7"><a class="btn-link svelte-1po4ls7" href="https://github.com/lissy93/ansibles" target="_blank" rel="noopener"><svg focusable="false" width="20" height="20" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/><!-- HTML_TAG_END --></svg>
            View on GitHub</a> </div> <div class="links svelte-1po4ls7">   </div></div> <div class="right svelte-1po4ls7"><img class="screenshot svelte-1po4ls7" src="https://storage.googleapis.com/as93-screenshots/project-screenshots/ansibles.gif" alt="Screenshot"></div></div> <div class="bottom svelte-1po4ls7"><div class="chips"><ul class="svelte-1po4ls7"><li class="svelte-1po4ls7"><svg focusable="false" width="14" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 500 500"><!-- HTML_TAG_START --><path d="M0 96C0 43 43 0 96 0H384h32 32V384H416v64h32v64H416 384 96c-53 0-96-43-96-96V96zM64 416c0 17.7 14.3 32 32 32H352V384H96c-17.7 0-32 14.3-32 32zM235.9 243.2c37.9 9.8 46.1 15 43.6 27.7c-2.5 13.2-23.7 19.6-51.7 15.7c-10.2-1.4-22.4-5.4-33.1-8.9l-5.9-1.9-9.8 30.5 5.8 1.9c12 3.9 25.7 8.3 38.6 10.1c7 1 13.8 1.5 20.2 1.5c36.5 0 62.2-15.8 67.3-42.8c4.1-21.2-4-34.9-16.7-44.4c8.7-7.1 14.5-16.4 16.7-27.6c8.6-45.1-36.9-56.9-67-64.7l0 0-7.3-1.9c-36.5-9.7-38-16.5-36.2-25.8c2.5-13.2 23.8-19.7 51.6-15.7c6.6 .9 14.6 2.9 25.2 6.2l9.5-30.6c-12.3-3.8-21.9-6.2-30.2-7.3c-47.1-6.7-81.5 9.6-87.5 41.3c-4.1 21.3 4.4 35.1 16.7 44.5c-8.7 7.1-14.5 16.4-16.7 27.5c-8.5 44.6 37.4 56.8 59.5 62.7l7.5 2zm0-72c37.9 9.8 46.1 15 43.6 27.7c-2.2 11.3-16.5 14.9-25.2 16.1c-3.6-1-17.7-4.7-17.7-4.7c-36.5-9.7-38-16.5-36.2-25.8c2.2-11.3 16.5-14.9 25.2-16.1c.9 .2 10.3 2.7 10.3 2.7z"/><!-- HTML_TAG_END --></svg>
            License: MIT</li> <li class="svelte-1po4ls7"><svg focusable="false" width="14" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M316.9 18C311.6 7 300.4 0 288.1 0s-23.4 7-28.8 18L195 150.3 51.4 171.5c-12 1.8-22 10.2-25.7 21.7s-.7 24.2 7.9 32.7L137.8 329 113.2 474.7c-2 12 3 24.2 12.9 31.3s23 8 33.8 2.3l128.3-68.5 128.3 68.5c10.8 5.7 23.9 4.9 33.8-2.3s14.9-19.3 12.9-31.3L438.5 329 542.7 225.9c8.6-8.5 11.7-21.2 7.9-32.7s-13.7-19.9-25.7-21.7L381.2 150.3 316.9 18z"/><!-- HTML_TAG_END --></svg>
            Stars: 2</li> <li class="svelte-1po4ls7"><svg focusable="false" width="14" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 620 620"><!-- HTML_TAG_START --><path d="M144 128l0 16c0 44.2 35.8 80 80 80s80-35.8 80-80l0-16-160 0zm0-108.8c10.2 7.5 23.8 8.3 34.9 2L209.1 4c4.6-2.6 9.7-4 14.9-4s10.4 1.4 14.9 4l30.2 17.2c11 6.3 24.7 5.5 34.9-2l.1-.1c.3-.2 .6-.4 .8-.6l3-2.4L323.6 3.5c2.8-2.3 6.4-3.5 10-3.5L336 0c8.8 0 16 7.2 16 16l0 23 0 3.2c0 0 0 .1 0 .1L352 144c0 70.7-57.3 128-128 128s-128-57.3-128-128L96 42.3c0 0 0-.1 0-.1L96 39l0-23c0-8.8 7.2-16 16-16l2.4 0c3.6 0 7.2 1.2 10 3.5L140 16l3 2.4c.3 .2 .6 .4 .8 .6l.1 .1zM0 472c0-92.8 75.2-168 168-168l112 0c92.8 0 168 75.2 168 168l0 8c0 17.7-14.3 32-32 32L32 512c-17.7 0-32-14.3-32-32l0-8z"/><!-- HTML_TAG_END --></svg>
            Author: Lissy93</li> <li class="svelte-1po4ls7"><svg focusable="false" width="18" height="14" class="undefined svelte-biy4zz" style="--iconColor: currentcolor; --iconHoverColor: currentColor;" viewBox="0 0 550 550"><!-- HTML_TAG_START --><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/><!-- HTML_TAG_END --></svg>
            Language: ansible</li> </ul></div> <p class="license svelte-1po4ls7">Free &amp; open source, forever.
      <a href="https://github.com/lissy93/ansibles" target="_blank" rel="noopener" class="svelte-1po4ls7">Ansible Playbooks</a>
      is licensed under 
      MIT
      © 2025 <a href="https://aliciasykes.com" target="_blank" rel="noopener" class="svelte-1po4ls7" data-svelte-h="svelte-1unjwz">Alicia Sykes</a></p></div> </header>    <script type="application/ld+json"><!-- HTML_TAG_START -->{"@context":"http://schema.org","@type":"SoftwareSourceCode","headline":"ansibles","image":"https://as93.net/favicon.png","datePublished":"2025-04-25T16:13:33Z","dateModified":"2025-05-07T19:34:09Z","author":{"@type":"Person","name":"Alicia Sykes"},"description":"⚒️ My Ansible playbooks and roles that I use to automate the configuration and management of all my servers"}<!-- HTML_TAG_END --></script>  </div> 
			
			<script>
				{
					__sveltekit_1m7pz6m = {
						base: new URL(".", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("./_app/immutable/entry/start.kf0pkPJx.js"),
						import("./_app/immutable/entry/app.GKpQQ5Bt.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 3],
							data: [null,{type:"data",data:{repoDetails:{id:972765097,name:"ansibles",user:"Lissy93",url:"https://github.com/Lissy93/ansibles",description:"⚒️ My Ansible playbooks and roles that I use to automate the configuration and management of all my servers",isFork:false,createdAt:"2025-04-25T16:13:33Z",updatedAt:"2025-05-07T19:34:09Z",homepage:"",language:"Python",license:"",size:146,stars:2,forks:1,issues:0,topics:["ansible","server","vps"],archived:false,has_pages:false},readme:"\nOBJECTIVE 🎯\n-----------\nAfter creating a fresh new VM/VPS/server (and adding a SSH key while doing so)\nI should just be able to run one command on my PC, to have the new remote system\nperfectly setup just how I like it.\n\nThanks to Ansible, everything is nice 'n easy, automated, repeatable and safe 😊\nSo all my fresh machines can be correctly configured, secured, backed up, and\nactually usable and ready to go!\n\nI've documented the playbooks, usage guide and some info about Ansible below...\n\n================================================================================\n\nJOBS 👔\n-------\n➡️ RECOMMENDED TASKS:\n ⚒️ Essentials:\n  ├── ✅ Apt - Configures repositories and updates packages\n  ├── ✅ Packages - Installs essential packages\n  ├── ✅ User accounts - Creates user(s) and sets permissions\n  ├── ✅ SSH - Configures and hardens SSH access\n  ├── ✅ Timezone - Sets timezone and NTP server\n  ├── ✅ Hostname - Sets hostname and configures hosts\n  ├── ✅ Firewall - Sets UFW rules\n  ├── ✅ Mail - Sets up Postfix (for notification sending)\n  └── ✅ Updates - Enables unattended upgrades\n\n➡️ OPTIONAL TASKS:\n ⚙️ Configs:\n  ├── ☑️ Packages - Installs extra packages, for easier management\n  └── ☑️ Dotfiles - Configures settings for CLI utils and apps\n\n 💾 Backups\n  └── ☑️ Backups - Sets up automated, encrypted, incremental Borg backups\n\n 🔑 Access:\n  ├── ☑️ VPN - Sets up and secures Wireguard VPN\n  └── ☑️ Cockpit - Sets up Cockpit for easy management via UI\n\n 🖥️ Apps and Services\n  ├── ☑️ Docker - Installs and configures Docker (if needed)\n  └── ☑️ Proxy - Sets up Caddy (only if not using Docker)\n\n 🔒 Security:\n  ├── ☑️ System hardening - Implements some DevSec security baselines\n  ├── ☑️ AppArmor - Sets up profiles for process confinement\n  ├── ☑️ Intrusion detection - Configures Fail2ban to block brute-force\n  ├── ☑️ Integrity monitoring - Sets up and automates OSSEC\n  ├── ☑️ Malware scanning - Sets up daily Maldet scans and reporting\n  └── ☑️ Security audits - Enables daily Lynis audits and reporting\n\n 📊 Monitoring:\n  ├── ☑️ Log storage – Loki for ingesting and aggregating all logs\n  ├── ☑️ Log shipping – Grafana Agent, pushes logs and metrics to Loki\n  ├── ☑️ Metrics collection – Grafana Agent, pushing metrics into Prometheus\n  ├── ☑️ Metrics storage – Prometheus for storing and querying metrics\n  ├── ☑️ Visualization – Grafana for dashboards from Loki and Prometheus\n  ├── ☑️ Alerting – Alertmanager for triggering critical notifications\n  ├── ☑️ Log rotation - Sets up logrotate for all logs, so they don't get big\n  └── ☑️ Monit - Monitors services and restarts them if they fail\n\nNote about Docker:\nOn servers where Docker is used for deploying services, some of the apps above\ncan/will be skipped. Such as Caddy, Grafana and Alertmanager\nBecause it's better to run them in containers instead of directly on the host.\nFor the Docker stacks, see my compose in: https://github.com/Lissy93/dockyard\n\n================================================================================\n\nUSAGE 🛠️\n--------\nSTEP 0: PREREQUISITES\n- Ensure Python (3.8+) and Ansible are installed (2.18+) on your local system\n- Fetch external roles: `ansible-galaxy install -r requirements.yml`\n- Create a new remote server (if u like). And ensure you have SSH access to it\n\nSTEP 1: SERVERS\n- Add servers. Create `inventories/remote.yml`\n\nSTEP 2: CONFIGURATION\n- Add variables to `inventories/group_vars/remote.yml` or `all.yml` (shared)\n- Best to put secrete variables in an Ansible vault (see instructions below)\n\nSTEP 4: RUNNING\n- Use the commands in the Makefile to execute the playbooks.\n  - First run: `make first-run`\n  - Subsequent runs: `make run`\n\n================================================================================\n\nCOMMANDS 💲\n-----------\nBasics:\n- `make` - View all available commands and our man page\n- `make run` - Run all playbooks (as normal user with new SSH settings)\n- `make \u003Crole>` - Run a specific role (e.g. `make ssh`)\n- `make \u003Cplaybook>` - Run a specific playbook (e.g. `make security`)\n\nSetup:\n- `make install-ansible` - Install Ansible (on host)\n- `make requirements` - Downloads external roles from Ansible Galaxy\n- `make scaffold-hosts` - Creates inventory template (for you to fill in)\n- `make first-run` - First run on a fresh server (as root)\n\nOther:\n- `make lint` - Run Ansible-lint on all playbooks and roles\n- `make docs` - Generates documentation for roles and playbooks\n- `make test` - Runs all tests on playbooks and hosts\n\nNative Ansible Commands:\n- Run a playbook on specific servers:\n  > ansible-playbook -i inventories/\u003Chosts>.yml playbooks/\u003Cplaybook>.yml\n- Run only roles with a specific tag:\n  > ansible-playbook -i inventories/\u003Chosts>.yml playbooks/\u003Cplay>.yml --tags \u003Ctag>\n- Run a playbook on a specific server:\n  > ansible-playbook -i inventories/\u003Chosts>.yml playbooks/\u003Cplay>.yml -l \u003Cservers>\n- Do a dry-run, and preview what changes will be made before applying:\n  > ansible-playbook -i inventories/\u003Chosts>.yml playbooks/\u003Cplay>.yml --check --diff\n- Run an ad-hoc command on servers in an inventory:\n  > ansible db -i inventories/\u003Chosts>.yml -m shell -a \"\u003Cshell command>\"\n\n================================================================================\n\nADDING SERVERS 🖥️\n-----------------\nDefine your list of hosts (servers to manage) in the inventory file(s).\nThe path which ansible looks for hosts in, is specified in ./ansible.cfg\nIf it's your first time, you can run `make scaffold-hosts` to create a template\nThen complete the values in .inventories/production/hosts.yml, like this:\n\nall:\n  hosts:\n    my-server:\n      ansible_host: 111.111.111.111\n      ansible_user: bob\n      ansible_python_interpreter: /usr/bin/python3\n    my-other-server:\n      ansible_host: 000.000.000.000\n      ansible_user: alice\n      ansible_port: 22\n      ansible_python_interpreter: /usr/bin/python3\n\n================================================================================\n\nADDING VARIABLES 🗂️\n--------------------\n- Defaults are defined per-role in: ./roles/\u003Crole_name>/defaults/main.yml\n- But you can (and should) override in:  ./inventories/group_vars/all.yml\n- Or, set host-specific vars, in:  ./inventories/host_vars/\u003Chostname>.yml\n- Secrets should be stored in a vault: ./inventories/group_vars/vault.yml\n  1. Create a vault: `ansible-vault create ./inventories/group_vars/vault.yml`\n  2. Edit the vault: `ansible-vault edit ./inventories/group_vars/vault.yml`\n  3. Use the vault by adding the `--ask-vault-pass` flag when running a playbook\n\n================================================================================\n\nWHAT'S ANSIBLE, AND WHY USE IT? ❓\n----------------------------------\nAnsible is a simple, open source, agentless tool for automating anything.\nJust describe how you want your system to look, and Ansible will ensure\nthe state is met.\n\n10 Reasons why I love Ansible\nUnlike Bash scripts or other alternatives...\n1. Ansible is idempotent, so you can run it as many times as you like,\n   and it will only make changes if the system is not in the desired state.\n2. Ansible is agentless, there's nothing to install on any of your systems.\n3. Ansible is declarative, you don't have to worry about the order of operations.\n4. Ansible is reusable and x-platform. Write playbooks once, run them anywhere.\n5. Ansible is scalable. Run it on a single host or thousands of servers at once.\n6. Ansible is extensible. There's thousands of playbooks on Galaxy,\n   or you can write your own modules in any language you want.\n7. Ansible is simple. No finicky scripts, just self-documenting YAML declarations.\n8. Ansible is powerful. Doing anything from simple tasks to complex orchestration.\n9. Ansible is safe. Preview changes to be made (--diff), or do a dry-run (--check)\n10. Ansible is configurable. Use built-in or custom 'facts' to customize playbooks.\n\nRead the Ansible docs at:\nhttps://docs.ansible.com/ansible/latest/getting_started/introduction.html\n\n================================================================================\n\nANSIBLE BASICS 📚\n-----------------\nTerminology:\n- Inventories = Who to configure (a list of hosts/servers)\n- Playbooks = What to do (at a high level, collection of roles)\n- Roles = Reusable collections of logic, made up of tasks\n- Tasks = The actual code that Ansible runs (usually YAML)\n- Plugins = Reusable code snippets (usually Python) that extend Ansible\n- Vars = Variables used to specify values for each playbook/role/task\n- ansible.cfg = The config file that tells Ansible where to find things\n\nStructure:\nAnsible projects follow a specific directory structure, as illustrated below:\nThe top-level directories are:\n- inventories/ - Where you list the hosts/servers that changes will be applied to\n- playbooks/ - The playbooks that run the roles, and define the order of execution\n- roles/ - The individual roles, made up of tasks, handlers, and other files\n\nThis is the structure of my project:\n\n.\n├── ansible.cfg           # Config: inventory paths, plugin dirs, etc\n├── callback_plugins/     # Custom Ansible callback plugins\n│   └── pretty.py         # Emoji & color stdout formatting\n├── inventories/          # Host/group definitions and vars\n│   └── production/       # Remote production inventory\n│       ├── hosts.yml     # Inventory host list\n│       ├── group_vars/   # Variables applied by group\n│       │   └── all.yml   # Variables to be shared by all servers in this group\n│       └── host_vars/    # Per-host variables\n│           └── serv1.yml # Example: Add a file for each of your servers\n├── Makefile              # Shortcut targets for playbook runs\n├── playbooks/            # Playbooks invoking roles by concern\n│   ├── all.yml           # Main \"run everything\" playbook\n│   ├── access.yml        # VPN & Cockpit setup\n│   ├── backups.yml       # Borg backup tasks\n│   ├── configs.yml       # General configuration tasks\n│   ├── essentials.yml    # Core hardening, compliance, audits\n│   ├── monitoring.yml    # Loki, Prometheus & Grafana setup\n│   ├── security.yml      # Fail2ban, OSSEC, Maldet, Lynis, AppArmor\n│   └── services.yml      # Docker, Caddy proxy, and other services\n├── readme.txt            # Project overview & usage instructions\n├── requirements.yml      # Galaxy roles/collections to install\n└── roles/                # Reusable Ansible roles (one dir per role)\n    ├── apparmor          # AppArmor profile deployment\n    ├── blackbox_exporter # Prometheus Blackbox Exporter\n    ├── borg              # Automated Borg backups\n    ├── cockpit           # Cockpit management UI\n    ├── directories       # Directory structure setup\n    ├── docker            # Docker engine install & config\n    ├── dotfiles          # User dotfiles deployment\n    ├── fail2ban          # Intrusion-detection rules\n    ├── firewall          # UFW firewall configuration\n    ├── geerlingguy.docker# Docker setup, from geerlingguy\n    ├── geerlingguy.pip   # Pip/Python setup, from geerlingguy\n    ├── grafana           # Grafana install, config & provisioning\n    ├── grafana-agent     # Grafana Agent setup & metrics checks\n    ├── hostname          # Hostname & /etc/hosts management\n    ├── installs          # Miscellaneous package installs\n    ├── logrotate         # Logrotate config and templates\n    ├── loki              # Loki log-aggregation setup\n    ├── lynis             # Automated Lynis security audits\n    ├── maldet            # Linux Malware Detect integration\n    ├── monit             # Service monitoring with Monit\n    ├── node_exporter     # Prometheus Node Exporter\n    ├── prometheus        # Prometheus server setup & config\n    ├── ssh               # SSH hardening & key management\n    ├── tailscale         # Tailscale VPN installation\n    ├── timezone          # Timezone & NTP configuration\n    └── users             # User account & permission management\n\n================================================================================\n\nTROUBLESHOOTING 🫨\n------------------\n1. Ansible requires the locale encoding to be UTF-8; Detected None.\n    - Fix: set `export LC_ALL=`\n    - Or run `locale -a` to see your locales and set with `LC_ALL='en_US.UTF-8'`\n\n2. Failed to connect to the host via ssh\n    - Ensure you have run `make initial-apply` before running `make apply`\n    - Check the ansible_user and ansible_host variables in your inventory file\n    - Check SSH access to the server. Ensure you can SSH in manually.\n\n3. The task includes an option with an undefined variable.. '___' is undefined\n    - Define that variable in `./inventories/group_vars/all.yml` or elsewhere\n\n4. Unable to encrypt nor hash, passlib must be installed\n    - Install passlin, with: `pip install passlib`\n\n5. YAML syntax or Jinja2 template errors\n    - Check your YAML syntax with: `yamllint \u003Cfile>.yml`\n    - Check your Jinja2 with: `ansible-playbook --syntax-check \u003Cplaybook>.yml`\n\n6. The role 'foo' was not found\n    - Install external roles with: `ansible-galaxy install -r requirements.yml`\n    - And double check the `roles_path` and `collections_paths` in ansible.cfg\n\n7. Help, my terminal is full of talking cows!\n    - This happens because you have `cowsay` installed 🐮😉\n    - Just set: `nocows=1` in your ansible.cfg file\n\n================================================================================\n\nWARNING ⚠️\n----------\nShould you use this? ...Probably not.\nBecause it's really easy to create your own Ansible playbooks,\nand they will be better tailored to your specific needs.\n(Also I don't much want to be responsible if something goes wrong! 🫣)\n\nBut feel free to use or copy-paste which ever parts you like into your setup 🫶\n\nIMPORTANT: Read through the playbooks and roles before running them.\nAnd make sure you understand what they do, to avoid any surprises!\n\n================================================================================\n\nLICENSE 📃\n----------\nDO WHAT THE FUCK YOU WANT TO PUBLIC LICENSE  [Version 2, December 2004]\nCopyright (C) 2025 Alicia Sykes \u003Caliciasykes.com>\n\nEveryone is permitted to copy and distribute verbatim or modified \ncopies of this license document, and changing it is allowed as long \nas the name is changed. \n\nTERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION \n0. You just do whatever the fuck you want to\n",meta:{name:"ansibles",title:"Ansible Playbooks",language:"ansible",description:"Full, automated, configurable server setup for optimum usability, security and best practices",icon:"https://storage.googleapis.com/as93-screenshots/project-logos/ansibles.png",screenshot:"https://storage.googleapis.com/as93-screenshots/project-screenshots/ansibles.gif",color:"#d95de8"}},uses:{params:["repo"]}}],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
	</body>
</html>
